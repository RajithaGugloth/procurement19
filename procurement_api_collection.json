{
  "info": {
    "_postman_id": "b3e3e3e3-1234-5678-90ab-cdef12345678",
    "name": "Procurement System API",
    "description": "Collection for testing Procurement System APIs including Auth, Vendor, Purchase Order, Requisition, and Reports.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var jsonData = pm.response.json();",
                  "pm.environment.set(\"jwt_token\", jsonData.token);",
                  "console.log(\"Token stored: \" + jsonData.token);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"username\": \"admin\",\n    \"password\": \"password\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/auth/login",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auth",
                "login"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Register",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"username\": \"newuser\",\n    \"password\": \"password\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/auth/register",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auth",
                "register"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Vendor",
      "item": [
        {
          "name": "Create Vendor",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Tech Solutions Ltd\",\n    \"email\": \"contact@techsolutions.com\",\n    \"contactNumber\": \"1234567890\",\n    \"address\": \"123 Tech Park, Silicon Valley\",\n    \"status\": \"ACTIVE\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/vendor/create",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "vendor",
                "create"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get All Vendors",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/vendor/all",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "vendor",
                "all"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Vendor By ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/vendor/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "vendor",
                "1"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update Vendor",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Tech Solutions Updated\",\n    \"email\": \"newcontact@techsolutions.com\",\n    \"contactNumber\": \"0987654321\",\n    \"address\": \"456 Tech Park\",\n    \"status\": \"ACTIVE\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/vendor/update/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "vendor",
                "update",
                "1"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete Vendor",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/vendor/delete/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "vendor",
                "delete",
                "1"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Procurement",
      "item": [
        {
          "name": "Requisition",
          "item": [
            {
              "name": "Create Requisition",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"requisitionNumber\": \"REQ-2023-001\",\n    \"requestedBy\": {\n        \"id\": 1\n    },\n    \"items\": [\n        {\n            \"itemName\": \"High Performance Laptop\",\n            \"description\": \"For Development Team\",\n            \"quantity\": 2,\n            \"unitPrice\": 1500.00\n        }\n    ]\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{base_url}}/procurement/requisition/create",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "procurement",
                    "requisition",
                    "create"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Get All Requisitions",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/procurement/requisition/all",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "procurement",
                    "requisition",
                    "all"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Update Requisition Status",
              "request": {
                "method": "PATCH",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/procurement/requisition/update-status/1?status=APPROVED",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "procurement",
                    "requisition",
                    "update-status",
                    "1"
                  ],
                  "query": [
                    {
                      "key": "status",
                      "value": "APPROVED"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Get Requisition by ID",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/procurement/requisition/:id",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "procurement",
                    "requisition",
                    ":id"
                  ],
                  "variable": [
                    {
                      "key": "id",
                      "value": "1"
                    }
                  ]
                }
              },
              "response": []
            }
          ]
        },
        {
          "name": "Purchase Order",
          "item": [
            {
              "name": "Create PO",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"poNumber\": \"PO-2023-001\",\n    \"vendor\": {\n        \"id\": 1\n    },\n    \"status\": \"PENDING\",\n    \"items\": [\n        {\n            \"itemName\": \"Office Chairs\",\n            \"quantity\": 10,\n            \"unitPrice\": 120.00\n        },\n        {\n            \"itemName\": \"Desks\",\n            \"quantity\": 5,\n            \"unitPrice\": 250.00\n        }\n    ]\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{base_url}}/procurement/purchase-order/create",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "procurement",
                    "purchase-order",
                    "create"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Get All POs",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/procurement/purchase-order/all",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "procurement",
                    "purchase-order",
                    "all"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Update PO Status",
              "request": {
                "method": "PATCH",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/procurement/purchase-order/update-status/1?status=SENT",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "procurement",
                    "purchase-order",
                    "update-status",
                    "1"
                  ],
                  "query": [
                    {
                      "key": "status",
                      "value": "SENT"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Get Purchase Order by ID",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/procurement/purchase-order/:id",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "procurement",
                    "purchase-order",
                    ":id"
                  ],
                  "variable": [
                    {
                      "key": "id",
                      "value": "1"
                    }
                  ]
                }
              },
              "response": []
            }
          ]
        },
        {
          "name": "Approval",
          "item": [
            {
              "name": "Approve PO",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/procurement/approval/approve/1?approverId=1",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "procurement",
                    "approval",
                    "approve",
                    "1"
                  ],
                  "query": [
                    {
                      "key": "approverId",
                      "value": "1"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Reject PO",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/procurement/approval/reject/1?approverId=1&reason=Budget constraints",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "procurement",
                    "approval",
                    "reject",
                    "1"
                  ],
                  "query": [
                    {
                      "key": "approverId",
                      "value": "1"
                    },
                    {
                      "key": "reason",
                      "value": "Budget constraints"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Get All Approvals",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/procurement/approval/all",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "procurement",
                    "approval",
                    "all"
                  ]
                }
              },
              "response": []
            }
          ]
        }
      ]
    },
    {
      "name": "Reports",
      "item": [
        {
          "name": "Generate Vendor Report (PDF)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"vendorId\": 1,\n    \"startDate\": \"2023-01-01\",\n    \"endDate\": \"2023-12-31\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/reports/vendor?format=pdf",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "reports",
                "vendor"
              ],
              "query": [
                {
                  "key": "format",
                  "value": "pdf"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Generate Vendor Report (Excel)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"vendorId\": 1,\n    \"startDate\": \"2023-01-01\",\n    \"endDate\": \"2023-12-31\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/reports/vendor?format=excel",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "reports",
                "vendor"
              ],
              "query": [
                {
                  "key": "format",
                  "value": "excel"
                }
              ]
            }
          },
          "response": []
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8082",
      "type": "string"
    },
    {
      "key": "jwt_token",
      "value": "",
      "type": "string"
    }
  ]
}